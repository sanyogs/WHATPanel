<?= $this->extend('layouts/users') ?>
<?= $this->section('content') ?>
<style>
.edit-link {
    position: relative;
    display: inline-block;
    text-decoration: none;
}

.edit-link .edit-name {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.edit-link:hover .edit-name {
    opacity: 1;
}
</style>
<?php 
/*
 * This file is part of WHATPANEL.
 *
 * @package     WHAT PANEL â€“ Web Hosting Access Terminal Panel.
 * @copyright   2023-2024 Version Next Technologies and MadPopo. All rights reserved.
 * @license     BSL; see LICENSE.txt
 * @link        https://www.version-next.com
 */

use App\Models\Invoice;
use App\Models\User;
use App\Helpers\custom_name_helper;

$custom_helper = new custom_name_helper();
$session = \Config\Services::session();

$db = \Config\Database::connect();

//print_r($orders);die;
?>
<section id="hosting-services-wrap" class='custom-orders-page'>
  <div class="container-fluid px-0">
    <div class="hs-topbar-wrap">
      <div class="hs-title-wrap">
        <h3>Orders</h3>
        <p>Showing orders list</p>
      </div>
      <div class="hs-search-wrap">
        <div class="hs-InputWrap">
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="15" viewBox="0 0 18 15" fill="none">
              <path d="M1.36083 13.5869L4.9727 11.4839C6.06246 12.9679 7.67959 13.9784 9.4916 14.3078C11.3036 14.6371 13.1727 14.2602 14.7147 13.2545C16.2566 12.2488 17.3542 10.6908 17.7816 8.90083C18.2091 7.11086 17.934 5.22499 17.0129 3.63098C16.0918 2.03698 14.5947 0.856004 12.8295 0.330892C11.0642 -0.19422 9.16497 -0.0235551 7.52228 0.807794C5.87959 1.63914 4.61831 3.06798 3.99777 4.80052C3.37723 6.53306 3.44461 8.4376 4.18605 10.1225L0.580387 12.2024C0.488711 12.2548 0.408327 12.3248 0.343873 12.4084C0.279418 12.492 0.232171 12.5875 0.204853 12.6895C0.177535 12.7914 0.170689 12.8978 0.18471 13.0024C0.198731 13.107 0.233342 13.2079 0.286544 13.2991C0.39336 13.4769 0.565107 13.6063 0.765541 13.66C0.965975 13.7137 1.17942 13.6875 1.36083 13.5869ZM5.34694 5.79003C5.63343 4.72083 6.23079 3.76066 7.06346 3.03094C7.89614 2.30122 8.92674 1.83472 10.0249 1.69044C11.1231 1.54616 12.2396 1.73058 13.2332 2.22037C14.2267 2.71016 15.0528 3.48332 15.6068 4.4421C16.1608 5.40087 16.418 6.50218 16.3457 7.60677C16.2735 8.71136 15.8751 9.76962 15.201 10.6477C14.5268 11.5258 13.6071 12.1843 12.5583 12.5399C11.5094 12.8956 10.3785 12.9323 9.3085 12.6456C7.87365 12.2612 6.65019 11.3229 5.90726 10.0372C5.16432 8.75154 4.96277 7.22378 5.34694 5.79003Z" fill="white" />
            </svg>
          </span>
          <form method='get' action="<?php echo base_url('orders'); ?>" id="searchForm" style="display:flex;">
            <input type="text" name="search" placeholder="Search for Code" style="margin-right: 10px;" />
			<a href="<?php echo base_url('orders'); ?>" class="btn new-hosting-div bg-danger clrBtn" style="padding: 7px;">Clear</a>
          </form>
        </div>
        <?php if (User::is_admin()) { ?>
          <a href="<?= base_url() ?>orders/select_client" class="new-hosting-div" data-bs-toggle="modal" data-bs-target="#add-new-hosting-modal">
          <?php } ?>
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M10.6667 10.3333C10.6667 10.5101 10.5964 10.6797 10.4714 10.8047C10.3464 10.9298 10.1768 11 10 11H8.66667V12.3333C8.66667 12.5101 8.59643 12.6797 8.47141 12.8047C8.34638 12.9298 8.17681 13 8 13C7.82319 13 7.65362 12.9298 7.5286 12.8047C7.40357 12.6797 7.33333 12.5101 7.33333 12.3333V11H6C5.82319 11 5.65362 10.9298 5.5286 10.8047C5.40357 10.6797 5.33333 10.5101 5.33333 10.3333C5.33333 10.1565 5.40357 9.98695 5.5286 9.86193C5.65362 9.73691 5.82319 9.66667 6 9.66667H7.33333V8.33333C7.33333 8.15652 7.40357 7.98695 7.5286 7.86193C7.65362 7.73691 7.82319 7.66667 8 7.66667C8.17681 7.66667 8.34638 7.73691 8.47141 7.86193C8.59643 7.98695 8.66667 8.15652 8.66667 8.33333V9.66667H10C10.1768 9.66667 10.3464 9.73691 10.4714 9.86193C10.5964 9.98695 10.6667 10.1565 10.6667 10.3333ZM16 5.66667V12.3333C15.9989 13.2171 15.6474 14.0643 15.0225 14.6892C14.3976 15.3141 13.5504 15.6656 12.6667 15.6667H3.33333C2.4496 15.6656 1.60237 15.3141 0.97748 14.6892C0.352588 14.0643 0.00105857 13.2171 0 12.3333L0 4.33333C0.00105857 3.4496 0.352588 2.60237 0.97748 1.97748C1.60237 1.35259 2.4496 1.00106 3.33333 1H5.01867C5.32893 1.00026 5.63493 1.07236 5.91267 1.21067L8.01667 2.26667C8.10963 2.31128 8.21155 2.33408 8.31467 2.33333H12.6667C13.5504 2.33439 14.3976 2.68592 15.0225 3.31081C15.6474 3.93571 15.9989 4.78294 16 5.66667ZM1.33333 4.33333V5H14.544C14.4066 4.61139 14.1525 4.27473 13.8165 4.03606C13.4804 3.79739 13.0788 3.66838 12.6667 3.66667H8.31467C8.0044 3.66641 7.6984 3.5943 7.42067 3.456L5.31667 2.40333C5.22398 2.35757 5.12204 2.33362 5.01867 2.33333H3.33333C2.8029 2.33333 2.29419 2.54405 1.91912 2.91912C1.54405 3.29419 1.33333 3.8029 1.33333 4.33333ZM14.6667 12.3333V6.33333H1.33333V12.3333C1.33333 12.8638 1.54405 13.3725 1.91912 13.7475C2.29419 14.1226 2.8029 14.3333 3.33333 14.3333H12.6667C13.1971 14.3333 13.7058 14.1226 14.0809 13.7475C14.456 13.3725 14.6667 12.8638 14.6667 12.3333Z" fill="white" />
            </svg>
          </span>
          <p class="common-h" style='color: white !important;' >New Order</p>
          </a>
      </div>
    </div>
    <div class="hs-table-wrap">
      <div class="tableInfoHead">
        <div class="showEntriesWrap">
          <span>Show</span>
          <form action="<?php echo base_url('orders'); ?>" method="get">
            <select name="recordsPerPage" onchange="this.form.submit()">
              <?php $options = [10, 25, 50, 100]; ?>
              <?php foreach ($options as $option) : ?>
                <option value="<?= $option ?>" <?= ($option == $perPage) ? 'selected' : '' ?>>
                  <?= $option ?>
                </option>
              <?php endforeach; ?>
            </select>
          </form>
          <span>Entries</span>
        </div>
      </div>
      <div class="hs-table-overflow">
        <table class="hs-table">
          <tr>
            <th><?= lang('hd_lang.order_id') ?></th>
            <th><?= lang('hd_lang.date') ?></th>
            <th><?= lang('hd_lang.invoice') ?></th>
            <th><?= lang('hd_lang.status') ?></th>
			<th><?= lang('hd_lang.order_status') ?></th>
            <th><?= lang('hd_lang.invoice_options') ?></th>
            <th><?= lang('hd_lang.client') ?></th>
            <th><?= lang('hd_lang.action') ?></th>
          </tr>
          <?php foreach ($orders as $key => $order) {
            $status = Invoice::payment_status($order->inv_id);
	//echo 232;die;
			$order_status = $db->table('hd_status')->select('name')->where('id', $order->order_status_id)->get()
    ->getRowArray()['name'];
	//echo 232;die;
            switch ($status) {
              case 'fully_paid':
                $label2 = 'success';
                break;
              case 'partially_paid':
                $label2 = 'warning';
                break;
              case 'not_paid':
                $label2 = 'danger';
                break;
              case 'cancelled':
                $label2 = 'primary';
                break;
            } ?>
            <tr>
              <td><?= $order->order_id ?></td>
              <td><?= $order->date ?></td>
              <td><?= $order->reference_no ?></td>
              <td><span class="label label-<?= $label2 ?>"><?= lang('hd_lang.'.$status) ?></span></td>
				<td><span class="label label-<?= $label2 ?>"><?= $order_status ?></span></td>
              <td>
                <div class="orderTableIcon">
                  <a class="btn btn-xs" href="<?= base_url() ?>invoices/view/<?= $order->inv_id ?>"  data-original-title="<?= lang('hd_lang.view') ?>"><span class="edit-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 22 16" fill="none">
                      <path d="M21.1741 7.272C20.3937 5.56533 17.3332 0 10.6666 0C3.99989 0 0.939441 5.56533 0.158997 7.272C0.0542307 7.50071 0 7.74932 0 8.00089C0 8.25246 0.0542307 8.50107 0.158997 8.72978C0.939441 10.4347 3.99989 16 10.6666 16C17.3332 16 20.3937 10.4347 21.1741 8.728C21.2787 8.49954 21.3328 8.25125 21.3328 8C21.3328 7.74875 21.2787 7.50046 21.1741 7.272ZM10.6666 14.2222C5.06033 14.2222 2.44433 9.45244 1.77766 8.00978C2.44433 6.54756 5.06033 1.77778 10.6666 1.77778C16.2594 1.77778 18.8763 6.52711 19.5554 8C18.8763 9.47289 16.2594 14.2222 10.6666 14.2222Z" fill="#1912D3" />
                      <path d="M10.6671 3.55566C9.78807 3.55566 8.92879 3.81633 8.1979 4.30469C7.46702 4.79305 6.89736 5.48718 6.56097 6.29929C6.22458 7.11141 6.13657 8.00504 6.30806 8.86718C6.47955 9.72931 6.90284 10.5212 7.52441 11.1428C8.14597 11.7644 8.9379 12.1877 9.80003 12.3592C10.6622 12.5306 11.5558 12.4426 12.3679 12.1062C13.18 11.7699 13.8742 11.2002 14.3625 10.4693C14.8509 9.73842 15.1115 8.87914 15.1115 8.00011C15.1101 6.8218 14.6414 5.69216 13.8082 4.85897C12.9751 4.02578 11.8454 3.55708 10.6671 3.55566ZM10.6671 10.6668C10.1397 10.6668 9.62411 10.5104 9.18558 10.2174C8.74705 9.92434 8.40526 9.50787 8.20342 9.0206C8.00159 8.53333 7.94878 7.99715 8.05167 7.47987C8.15457 6.96259 8.40854 6.48743 8.78148 6.11449C9.15442 5.74155 9.62958 5.48757 10.1469 5.38468C10.6641 5.28179 11.2003 5.3346 11.6876 5.53643C12.1749 5.73826 12.5913 6.08006 12.8844 6.51859C13.1774 6.95712 13.3338 7.47269 13.3338 8.00011C13.3338 8.70735 13.0528 9.38563 12.5527 9.88573C12.0526 10.3858 11.3743 10.6668 10.6671 10.6668Z" fill="#1912D3" />
                    </svg>
					<span class="edit-name">View</span></span>
                  </a>
	
                  <?php if (User::is_admin()) { ?>
                    <a class="btn btn-xs" href="<?= base_url() ?>invoices/send_invoice/<?= $order->inv_id ?>" data-toggle="ajaxModal"><span  data-original-title="<?= lang('hd_lang.email_invoice') ?>"><span class="edit-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none">
                          <path d="M14.25 0H3.75C2.7558 0.00115481 1.80267 0.384641 1.09966 1.06634C0.396661 1.74804 0.00119089 2.67229 0 3.63636L0 12.3636C0.00119089 13.3277 0.396661 14.252 1.09966 14.9337C1.80267 15.6154 2.7558 15.9988 3.75 16H14.25C15.2442 15.9988 16.1973 15.6154 16.9003 14.9337C17.6033 14.252 17.9988 13.3277 18 12.3636V3.63636C17.9988 2.67229 17.6033 1.74804 16.9003 1.06634C16.1973 0.384641 15.2442 0.00115481 14.25 0ZM3.75 1.45455H14.25C14.6991 1.4554 15.1376 1.58656 15.5092 1.83113C15.8808 2.0757 16.1684 2.42251 16.335 2.82691L10.5915 8.39709C10.1688 8.80532 9.59656 9.03452 9 9.03452C8.40344 9.03452 7.83118 8.80532 7.4085 8.39709L1.665 2.82691C1.83161 2.42251 2.11921 2.0757 2.49079 1.83113C2.86236 1.58656 3.30091 1.4554 3.75 1.45455ZM14.25 14.5455H3.75C3.15326 14.5455 2.58097 14.3156 2.15901 13.9064C1.73705 13.4972 1.5 12.9423 1.5 12.3636V4.72727L6.348 9.42546C7.05197 10.1064 8.00569 10.4888 9 10.4888C9.99431 10.4888 10.948 10.1064 11.652 9.42546L16.5 4.72727V12.3636C16.5 12.9423 16.2629 13.4972 15.841 13.9064C15.419 14.3156 14.8467 14.5455 14.25 14.5455Z" fill="#1912D3" />
                        </svg>
						<span class="edit-name">Send Invoice</span></span>
                    </a>
                  <?php } ?>

                  <?php if (User::is_admin()) : ?>
                    <a href="<?= base_url() ?>invoices/remind/<?= $order->inv_id ?>" data-toggle="ajaxModal" class="btn btn-xs btn-vk" data-original-title="<?= lang('hd_lang.send_reminder') ?>"><span class="edit-link">
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16" fill="none">
                        <path d="M13.882 9.10545L12.6591 4.54864C12.3007 3.21368 11.5217 2.04112 10.446 1.21733C9.37029 0.393548 8.05957 -0.0341803 6.72219 0.00213564C5.38482 0.0384516 4.09754 0.536728 3.06498 1.41776C2.03241 2.29879 1.31382 3.51202 1.02342 4.8646L0.0766803 9.2741C-0.0278955 9.76133 -0.0254777 10.2667 0.0837553 10.7528C0.192988 11.2389 0.406247 11.6935 0.707787 12.0828C1.00933 12.4722 1.39145 12.7864 1.82594 13.0023C2.26043 13.2182 2.7362 13.3303 3.21811 13.3303H3.93509C4.08281 14.0837 4.47747 14.7611 5.05222 15.2477C5.62697 15.7342 6.34645 16 7.08875 16C7.83106 16 8.55054 15.7342 9.12528 15.2477C9.70003 14.7611 10.0947 14.0837 10.2424 13.3303H10.7818C11.2779 13.3303 11.7672 13.2116 12.2117 12.9833C12.6561 12.755 13.0436 12.4234 13.3438 12.0144C13.6441 11.6053 13.8489 11.1299 13.9424 10.6253C14.0358 10.1207 14.0148 9.60052 13.882 9.10545ZM7.08875 14.6635C6.69084 14.6618 6.30315 14.5328 5.97873 14.2941C5.65431 14.0555 5.409 13.7189 5.27636 13.3303H8.90114C8.76851 13.7189 8.5232 14.0555 8.19878 14.2941C7.87435 14.5328 7.48667 14.6618 7.08875 14.6635ZM12.3187 11.2072C12.1393 11.4536 11.907 11.6533 11.6401 11.7904C11.3732 11.9276 11.079 11.9983 10.7811 11.9971H3.21811C2.929 11.9971 2.64358 11.9298 2.38293 11.8002C2.12229 11.6706 1.89306 11.4821 1.71218 11.2485C1.5313 11.0149 1.40338 10.7422 1.33786 10.4505C1.27234 10.1589 1.2709 9.8557 1.33364 9.5634L2.27974 5.15323C2.5078 4.09083 3.07221 3.13787 3.88325 2.44584C4.69429 1.75382 5.7054 1.36245 6.75586 1.33395C7.80632 1.30545 8.83583 1.64145 9.68074 2.28854C10.5257 2.93564 11.1375 3.85668 11.4189 4.90526L12.6418 9.46207C12.7226 9.75895 12.7354 10.0713 12.6794 10.3742C12.6233 10.6771 12.4998 10.9623 12.3187 11.2072Z" fill="#1912D3" />
                      </svg>
					<span class="edit-name">Reminder</span></span>
                    </a>
                  <?php endif; ?>

                  <a class="btn btn-xs btn-linkedin" href="<?= base_url() ?>invoices/pdf/<?= $order->inv_id ?>"  data-original-title="<?= lang('hd_lang.pdf') ?>"><span class="edit-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="16" viewBox="0 0 13 16" fill="none">
                      <path d="M11.6675 3.69333L9.399 1.36667C8.541 0.486667 7.397 0 6.1815 0H3.25C1.456 0 0 1.49333 0 3.33333V12.6667C0 14.5067 1.456 16 3.25 16H9.75C11.544 16 13 14.5067 13 12.6667V6.99333C13 5.74667 12.5255 4.57333 11.6675 3.69333ZM10.751 4.63333C10.959 4.84667 11.1345 5.08 11.2775 5.33333H8.4565C8.099 5.33333 7.8065 5.03333 7.8065 4.66667V1.77333C8.0535 1.92 8.281 2.1 8.489 2.31333L10.7575 4.64L10.751 4.63333ZM11.7 12.6667C11.7 13.7667 10.8225 14.6667 9.75 14.6667H3.25C2.1775 14.6667 1.3 13.7667 1.3 12.6667V3.33333C1.3 2.23333 2.1775 1.33333 3.25 1.33333H6.1815C6.2855 1.33333 6.396 1.33333 6.5 1.34667V4.66667C6.5 5.76667 7.3775 6.66667 8.45 6.66667H11.687C11.7 6.77333 11.7 6.88 11.7 6.99333V12.6667ZM3.3085 8.66667H2.6C2.2425 8.66667 1.95 8.96667 1.95 9.33333V12.2933C1.95 12.5267 2.132 12.7067 2.353 12.7067C2.574 12.7067 2.756 12.52 2.756 12.2933V11.48H3.302C4.069 11.48 4.693 10.8467 4.693 10.0733C4.693 9.3 4.069 8.66667 3.302 8.66667H3.3085ZM3.3085 10.6467H2.769V9.5H3.315C3.627 9.5 3.8935 9.76 3.8935 10.0733C3.8935 10.3867 3.627 10.6467 3.315 10.6467H3.3085ZM11.063 9.08667C11.063 9.32 10.881 9.5 10.66 9.5H9.5615V10.26H10.3675C10.595 10.26 10.7705 10.4467 10.7705 10.6733C10.7705 10.9 10.5885 11.0867 10.3675 11.0867H9.5615V12.2867C9.5615 12.52 9.3795 12.7 9.1585 12.7C8.9375 12.7 8.7555 12.5133 8.7555 12.2867V9.08C8.7555 8.84667 8.9375 8.66667 9.1585 8.66667H10.66C10.8875 8.66667 11.063 8.85333 11.063 9.08V9.08667ZM6.5585 8.67333H5.85C5.4925 8.67333 5.2 8.97333 5.2 9.34V12.3C5.2 12.5333 5.382 12.6733 5.603 12.6733C5.824 12.6733 6.552 12.6733 6.552 12.6733C7.319 12.6733 7.943 12.04 7.943 11.2667V10.08C7.943 9.30667 7.319 8.67333 6.552 8.67333H6.5585ZM7.137 11.2667C7.137 11.58 6.8705 11.84 6.5585 11.84H6.019V9.50667H6.565C6.877 9.50667 7.1435 9.76667 7.1435 10.08V11.2667H7.137Z" fill="#1912D3" />
                    </svg>
					<span class="edit-name">PDF</span></span>
                  </a>
                </div>
              </td>
              <td><?= $order->company_name ?></td>
              <td>
                  <div class="tableIcon">
					  <a class="btn btn-xs" href="<?= base_url() ?>orders/view/<?= $order->order_id ?>"  data-original-title="<?= lang('hd_lang.view') ?>"><span class="edit-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="16" viewBox="0 0 22 16" fill="none">
                      <path d="M21.1741 7.272C20.3937 5.56533 17.3332 0 10.6666 0C3.99989 0 0.939441 5.56533 0.158997 7.272C0.0542307 7.50071 0 7.74932 0 8.00089C0 8.25246 0.0542307 8.50107 0.158997 8.72978C0.939441 10.4347 3.99989 16 10.6666 16C17.3332 16 20.3937 10.4347 21.1741 8.728C21.2787 8.49954 21.3328 8.25125 21.3328 8C21.3328 7.74875 21.2787 7.50046 21.1741 7.272ZM10.6666 14.2222C5.06033 14.2222 2.44433 9.45244 1.77766 8.00978C2.44433 6.54756 5.06033 1.77778 10.6666 1.77778C16.2594 1.77778 18.8763 6.52711 19.5554 8C18.8763 9.47289 16.2594 14.2222 10.6666 14.2222Z" fill="#1912D3" />
                      <path d="M10.6671 3.55566C9.78807 3.55566 8.92879 3.81633 8.1979 4.30469C7.46702 4.79305 6.89736 5.48718 6.56097 6.29929C6.22458 7.11141 6.13657 8.00504 6.30806 8.86718C6.47955 9.72931 6.90284 10.5212 7.52441 11.1428C8.14597 11.7644 8.9379 12.1877 9.80003 12.3592C10.6622 12.5306 11.5558 12.4426 12.3679 12.1062C13.18 11.7699 13.8742 11.2002 14.3625 10.4693C14.8509 9.73842 15.1115 8.87914 15.1115 8.00011C15.1101 6.8218 14.6414 5.69216 13.8082 4.85897C12.9751 4.02578 11.8454 3.55708 10.6671 3.55566ZM10.6671 10.6668C10.1397 10.6668 9.62411 10.5104 9.18558 10.2174C8.74705 9.92434 8.40526 9.50787 8.20342 9.0206C8.00159 8.53333 7.94878 7.99715 8.05167 7.47987C8.15457 6.96259 8.40854 6.48743 8.78148 6.11449C9.15442 5.74155 9.62958 5.48757 10.1469 5.38468C10.6641 5.28179 11.2003 5.3346 11.6876 5.53643C12.1749 5.73826 12.5913 6.08006 12.8844 6.51859C13.1774 6.95712 13.3338 7.47269 13.3338 8.00011C13.3338 8.70735 13.0528 9.38563 12.5527 9.88573C12.0526 10.3858 11.3743 10.6668 10.6671 10.6668Z" fill="#1912D3" />
                    </svg>
					<span class="edit-name">View</span></span>
                  </a>
					  <?php if($order->status_id == 7) { ?>
                    <a href="<?= base_url() ?>orders/activate/<?= $order->order_id ?>" data-toggle="ajaxModal"><span class="edit-link">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512" fill="none">
							<g clip-path="url(#clip0)">
								<path d="M341.333 0H170.667C76.5653 0 0 76.5653 0 170.667C0 264.768 76.5653 341.333 170.667 341.333H341.333C435.435 341.333 512 264.768 512 170.667C512 76.5653 435.435 0 341.333 0ZM341.333 298.667H170.667C100.075 298.667 42.6667 241.259 42.6667 170.667C42.6667 100.075 100.075 42.6667 170.667 42.6667H341.333C411.925 42.6667 469.333 100.075 469.333 170.667C469.333 241.259 411.925 298.667 341.333 298.667ZM426.667 170.667C426.667 217.728 388.395 256 341.333 256C294.272 256 256 217.728 256 170.667C256 123.605 294.272 85.3333 341.333 85.3333C388.395 85.3333 426.667 123.605 426.667 170.667Z" fill="#1912D3"></path>
							</g>
							<defs>
								<clipPath id="clip0">
									<rect width="512" height="512" fill="white"></rect>
								</clipPath>
							</defs>
						</svg>
						<span class="edit-name">Activate</span></span>
                    </a>
					  <?php } ?>
                  
                  <?php if ($order->status_id == 6) { ?>
                    <a href="<?= base_url() ?>orders/cancel/<?= $order->order_id ?>" data-toggle="ajaxModal" data-bs-target="#delete-modal-div"><span class="edit-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                      <path d="M13.3332 6.66666C13.1769 6.51043 12.965 6.42267 12.744 6.42267C12.5231 6.42267 12.3111 6.51043 12.1549 6.66666L9.99988 8.82166L7.84488 6.66666C7.68771 6.51486 7.47721 6.43086 7.25871 6.43276C7.04021 6.43466 6.8312 6.5223 6.67669 6.67681C6.52219 6.83132 6.43455 7.04033 6.43265 7.25882C6.43075 7.47732 6.51475 7.68782 6.66654 7.84499L8.82154 9.99999L6.66654 12.155C6.51475 12.3122 6.43075 12.5227 6.43265 12.7412C6.43455 12.9597 6.52219 13.1687 6.67669 13.3232C6.8312 13.4777 7.04021 13.5653 7.25871 13.5672C7.47721 13.5691 7.68771 13.4851 7.84488 13.3333L9.99988 11.1783L12.1549 13.3333C12.312 13.4851 12.5225 13.5691 12.741 13.5672C12.9595 13.5653 13.1686 13.4777 13.3231 13.3232C13.4776 13.1687 13.5652 12.9597 13.5671 12.7412C13.569 12.5227 13.485 12.3122 13.3332 12.155L11.1782 9.99999L13.3332 7.84499C13.4894 7.68872 13.5772 7.47679 13.5772 7.25582C13.5772 7.03485 13.4894 6.82293 13.3332 6.66666Z" fill="#1912D3"/>
                      <path d="M10 0C8.02219 0 6.08879 0.58649 4.4443 1.6853C2.79981 2.78412 1.51809 4.3459 0.761209 6.17316C0.00433286 8.00043 -0.1937 10.0111 0.192152 11.9509C0.578004 13.8907 1.53041 15.6725 2.92894 17.0711C4.32746 18.4696 6.10929 19.422 8.0491 19.8078C9.98891 20.1937 11.9996 19.9957 13.8268 19.2388C15.6541 18.4819 17.2159 17.2002 18.3147 15.5557C19.4135 13.9112 20 11.9778 20 10C19.9971 7.34871 18.9426 4.80684 17.0679 2.9321C15.1932 1.05736 12.6513 0.00286757 10 0ZM10 18.3333C8.35182 18.3333 6.74066 17.8446 5.37025 16.9289C3.99984 16.0132 2.93174 14.7117 2.30101 13.189C1.67028 11.6663 1.50525 9.99075 1.82679 8.37425C2.14834 6.75774 2.94201 5.27288 4.10745 4.10744C5.27288 2.94201 6.75774 2.14833 8.37425 1.82679C9.99076 1.50525 11.6663 1.67027 13.189 2.301C14.7117 2.93173 16.0132 3.99984 16.9289 5.37025C17.8446 6.74066 18.3333 8.35182 18.3333 10C18.3309 12.2094 17.4522 14.3276 15.8899 15.8899C14.3276 17.4522 12.2094 18.3309 10 18.3333Z" fill="#1912D3"/>
                    </svg>
						<span class="edit-name">Cancel</span></span>
                    </a>
                  <?php } ?>
                  <a href="<?= base_url() ?>orders/delete/<?= $order->order_id ?>" data-toggle="ajaxModal" data-bs-target="#delete-modal-div"><span class="edit-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <g clip-path="url(#clip0_1514_211)">
                        <path d="M13.9999 2.66667H11.9333C11.7785 1.91428 11.3691 1.23823 10.7741 0.752479C10.179 0.266727 9.43472 0.000969683 8.66659 0L7.33325 0C6.56512 0.000969683 5.8208 0.266727 5.22575 0.752479C4.63071 1.23823 4.22132 1.91428 4.06659 2.66667H1.99992C1.82311 2.66667 1.65354 2.7369 1.52851 2.86193C1.40349 2.98695 1.33325 3.15652 1.33325 3.33333C1.33325 3.51014 1.40349 3.67971 1.52851 3.80474C1.65354 3.92976 1.82311 4 1.99992 4H2.66659V12.6667C2.66764 13.5504 3.01917 14.3976 3.64407 15.0225C4.26896 15.6474 5.11619 15.9989 5.99992 16H9.99992C10.8836 15.9989 11.7309 15.6474 12.3558 15.0225C12.9807 14.3976 13.3322 13.5504 13.3333 12.6667V4H13.9999C14.1767 4 14.3463 3.92976 14.4713 3.80474C14.5963 3.67971 14.6666 3.51014 14.6666 3.33333C14.6666 3.15652 14.5963 2.98695 14.4713 2.86193C14.3463 2.7369 14.1767 2.66667 13.9999 2.66667ZM7.33325 1.33333H8.66659C9.0801 1.33384 9.48334 1.46225 9.821 1.70096C10.1587 1.93967 10.4142 2.27699 10.5526 2.66667H5.44725C5.58564 2.27699 5.84119 1.93967 6.17884 1.70096C6.5165 1.46225 6.91974 1.33384 7.33325 1.33333ZM11.9999 12.6667C11.9999 13.1971 11.7892 13.7058 11.4141 14.0809C11.0391 14.456 10.5304 14.6667 9.99992 14.6667H5.99992C5.46949 14.6667 4.96078 14.456 4.58571 14.0809C4.21063 13.7058 3.99992 13.1971 3.99992 12.6667V4H11.9999V12.6667Z" fill="#1912D3" />
                        <path d="M6.66667 11.9998C6.84348 11.9998 7.01305 11.9296 7.13807 11.8046C7.2631 11.6796 7.33333 11.51 7.33333 11.3332V7.33317C7.33333 7.15636 7.2631 6.98679 7.13807 6.86177C7.01305 6.73674 6.84348 6.6665 6.66667 6.6665C6.48986 6.6665 6.32029 6.73674 6.19526 6.86177C6.07024 6.98679 6 7.15636 6 7.33317V11.3332C6 11.51 6.07024 11.6796 6.19526 11.8046C6.32029 11.9296 6.48986 11.9998 6.66667 11.9998Z" fill="#1912D3" />
                        <path d="M9.33341 11.9998C9.51023 11.9998 9.67979 11.9296 9.80482 11.8046C9.92984 11.6796 10.0001 11.51 10.0001 11.3332V7.33317C10.0001 7.15636 9.92984 6.98679 9.80482 6.86177C9.67979 6.73674 9.51023 6.6665 9.33341 6.6665C9.1566 6.6665 8.98703 6.73674 8.86201 6.86177C8.73699 6.98679 8.66675 7.15636 8.66675 7.33317V11.3332C8.66675 11.51 8.73699 11.6796 8.86201 11.8046C8.98703 11.9296 9.1566 11.9998 9.33341 11.9998Z" fill="#1912D3" />
                      </g>
                      <defs>
                        <clipPath id="clip0_1514_211">
                          <rect width="16" height="16" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
					  <span class="edit-name">Delete</span></span>
                  </a>
                  </div>
              </td>
            </tr>
            <?php } ?>
        </table>
      </div>
      <div class="hs-table-pagination">
        <div class="showingEntriesWrap">
          <?php

          $totalItems = $pager->getTotal(); // Get total number of items from the pager
          $currentStart = ($pager->getCurrentPage() - 1) * $perPage + 1; // Calculate the start index of the current page
          $currentEnd = min($currentStart + $perPage - 1, $totalItems); // Calculate the end index of the current page

          $showEntry = "Showing $currentStart to $currentEnd of $totalItems entries";

          ?>
          <p><?= $showEntry; ?></p>
        </div>
        <div class="hs-pagination-wrap">
          <ul class="hs-pagination">
            <div class="row">
              <?php if (!empty($orders)) : ?>
                <!-- If there are items, display the pagination links -->
                <?php if ($pager) : ?>
                  <ul class="pagination">
                    <?php
                    $pager->setPath('orders');

                    // Output Pagination Links
                    echo $pager->links();
                    ?>
                  </ul>
                <?php endif; ?>
              <?php else : ?>
                <!-- If there are no items, display the message -->
                <div class="col-12 text-center">
                  <h1 class="text-center"><?= esc($message) ?></h1>
                </div>
              <?php endif ?>
            </div>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
<?= $this->endSection() ?>